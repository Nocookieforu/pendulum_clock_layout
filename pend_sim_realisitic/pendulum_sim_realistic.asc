Version 4
SHEET 1 1604 860
WIRE 512 96 512 48
WIRE 448 144 336 144
WIRE 336 176 336 144
WIRE -96 208 -96 160
WIRE 608 256 576 256
WIRE -752 272 -816 272
WIRE -608 272 -672 272
WIRE -544 272 -544 208
WIRE -544 272 -608 272
WIRE -368 288 -368 256
WIRE -608 304 -608 272
WIRE -544 304 -544 272
WIRE -96 304 -96 272
WIRE 384 320 80 320
WIRE 512 320 512 192
WIRE 512 320 464 320
WIRE 576 320 576 256
WIRE 576 320 512 320
WIRE 704 320 576 320
WIRE 784 320 704 320
WIRE 1008 320 944 320
WIRE 1168 320 1088 320
WIRE -816 336 -816 272
WIRE 784 352 784 320
WIRE 944 352 944 320
WIRE 1168 352 1168 320
WIRE 704 368 704 320
WIRE 336 384 336 256
WIRE -608 400 -608 368
WIRE -544 400 -544 368
WIRE -368 400 -368 368
WIRE -96 432 -96 384
WIRE 80 432 80 320
WIRE 80 432 -96 432
WIRE 160 432 80 432
WIRE 272 432 240 432
WIRE -816 448 -816 416
WIRE 1168 464 1168 432
WIRE -96 480 -96 432
WIRE 704 480 704 432
WIRE 784 480 784 432
WIRE 944 480 944 432
WIRE 336 528 336 480
WIRE 704 592 704 560
WIRE -96 608 -96 560
WIRE 336 656 336 608
WIRE -96 704 -96 672
FLAG -816 448 0
FLAG 336 656 0
FLAG 784 480 0
FLAG 704 592 0
FLAG -608 400 0
FLAG 1168 464 0
FLAG 944 480 0
FLAG 608 256 VOUT
FLAG -368 256 VOUT
FLAG -368 400 0
FLAG -96 704 0
FLAG -544 208 VCC
FLAG -96 160 VCC
FLAG 512 48 VCC
FLAG -544 400 0
SYMBOL npn 272 384 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL pnp 448 96 R0
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL res -80 400 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 100K
SYMBOL res 480 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100K
SYMBOL diode -112 208 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL LED 720 432 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL ind2 768 336 R0
SYMATTR InstName L1
SYMATTR Value 10m
SYMATTR SpiceLine Rser=1
SYMATTR Type ind
SYMBOL cap -624 304 R0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL voltage -816 320 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res -656 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_PSOI
SYMATTR Value 10
SYMBOL res 320 160 R0
SYMATTR InstName R4
SYMATTR Value 1
SYMBOL voltage 1168 336 R0
WINDOW 3 -166 183 Left 2
SYMATTR Value PULSE(0 2 0.5 0.2m 0.2m 0.6m 0.5)
SYMATTR InstName V2
SYMBOL ind2 928 336 R0
SYMATTR InstName L2
SYMATTR Value 20m
SYMATTR Type ind
SYMBOL res 1104 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL res -384 272 R0
SYMATTR InstName R6
SYMATTR Value 1MEG
SYMBOL res 320 512 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL res 256 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1K
SYMBOL cap -560 304 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 688 464 R0
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL diode -112 608 R0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL res -112 464 R0
SYMATTR InstName R3
SYMATTR Value 10K
TEXT 1000 480 Left 2 !K1 L1 L2 1
TEXT 440 736 Left 2 !.tran 0 550m 450m
TEXT 1048 552 Left 2 ;SINE(0 5 2 0.5 1u 100u 1)
TEXT -616 824 Left 2 ;R2 is a good controller of output current in range ~22K - 100K\nR10 is also a good controller, but needs to run a larger range 1K - 100K
TEXT -736 88 Left 2 ;Power Supply
TEXT -408 96 Left 2 ;Output\nImpedance
TEXT 984 208 Left 2 ;Input Signal\n(Magnetic signal)
TEXT 464 760 Left 2 ;.tran 2
RECTANGLE Normal -436 136 -256 484 2
RECTANGLE Normal 912 264 1408 672 2
RECTANGLE Normal -896 132 -448 500 2
